(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{99:function(t,e,a){"use strict";a.r(e);var s={components:{FakeFormInputs:a(5).default},name:"IndexTerms",props:["term"],data:function(){return{sets:[],errors:null,department_id_select_disabled:!0}},mounted:function(){this.$parent.form.input.department_id&&this.departmentChanged()},methods:{submitForm:function(t){var e=this;t.preventDefault(),this.errors=null,"e"===this.$parent.form.type?axios.post("/admin/terms/edit",this.$parent.form.input).then((function(t){e.$root.post_success(t.data.success),e.$parent.form=null,e.$parent.term=t.data.term})):"d"===this.$parent.form.type?axios.post("/admin/terms/destroy",this.$parent.form.input).then((function(t){e.$root.post_success(t.data.success),e.$parent.form=null,e.$root.$router.push({name:"ad.terms"})})):"cs"!==this.$parent.form.type&&"cm"!==this.$parent.form.type||axios.post("/admin/terms/store",this.$parent.form.input).then((function(t){e.$root.post_success(t.data.success),e.$root.$router.push({name:"ad.terms",params:{id:t.data.term.id}})}))},departmentChanged:function(){var t=this;axios.get("/admin/get/sets/department="+this.$parent.form.input.department_id).then((function(e){e.data.sets&&(t.sets=e.data.sets)}))}}},r=a(0),n=Object(r.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card shadow mb-4 mb-xl-0"},[a("div",{staticClass:"card-header bg-transparent"},[a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.$parent.$router.push({name:"ad.terms"})}}},[a("i",{staticClass:"ni ni-bold-left"}),t._v(" Back\n                ")]),t._v(" "),a("h3",{staticClass:"mb-0"},[t._v("\n                    "+t._s(t.$parent.form.title)+"\n                ")])]),t._v(" "),a("div",{staticClass:"card-body"},[a("form",{on:{submit:t.submitForm}},[a("fake-form-input"),t._v(" "),void 0!==t.$parent.form.input.name?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(0),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.form.input.name,expression:"$parent.form.input.name"}],staticClass:"form-control",attrs:{placeholder:"..........",type:"text",required:""},domProps:{value:t.$parent.form.input.name},on:{input:function(e){e.target.composing||t.$set(t.$parent.form.input,"name",e.target.value)}}})])]):t._e(),t._v(" "),void 0!==t.$parent.form.input.starting_at?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.form.input.starting_at,expression:"$parent.form.input.starting_at"}],staticClass:"form-control",attrs:{placeholder:"..........",type:"date",required:""},domProps:{value:t.$parent.form.input.starting_at},on:{input:function(e){e.target.composing||t.$set(t.$parent.form.input,"starting_at",e.target.value)}}})])]):t._e(),t._v(" "),void 0!==t.$parent.form.input.ending_at?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(2),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.form.input.ending_at,expression:"$parent.form.input.ending_at"}],staticClass:"form-control",attrs:{placeholder:"..........",type:"date",name:"ending_at",required:""},domProps:{value:t.$parent.form.input.ending_at},on:{input:function(e){e.target.composing||t.$set(t.$parent.form.input,"ending_at",e.target.value)}}})])]):t._e(),t._v(" "),void 0!==t.$parent.form.input.department_id?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(3),t._v(" "),a("v-select",{staticClass:"form-control",attrs:{options:t.$parent.departments,reduce:function(t){return t.id},label:"name"},on:{input:t.departmentChanged},scopedSlots:t._u([{key:"search",fn:function(e){var s=e.attributes,r=e.events;return[a("input",t._g(t._b({staticClass:"vs__search",attrs:{required:!t.$parent.form.input.department_id}},"input",s,!1),r))]}}],null,!1,1535220183),model:{value:t.$parent.form.input.department_id,callback:function(e){t.$set(t.$parent.form.input,"department_id",e)},expression:"$parent.form.input.department_id"}})],1)]):t._e(),t._v(" "),void 0!==t.$parent.form.input.set_id?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(4),t._v(" "),a("v-select",{staticClass:"form-control",attrs:{options:t.sets,reduce:function(t){return t.id},label:"name"},on:{input:t.departmentChanged},scopedSlots:t._u([{key:"search",fn:function(e){var s=e.attributes,r=e.events;return[a("input",t._g(t._b({staticClass:"vs__search",attrs:{required:!t.$parent.form.input.set_id}},"input",s,!1),r))]}}],null,!1,3007200369),model:{value:t.$parent.form.input.set_id,callback:function(e){t.$set(t.$parent.form.input,"set_id",e)},expression:"$parent.form.input.set_id"}})],1)]):t._e(),t._v(" "),void 0!==t.$parent.form.input.external_exam_percentage?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(5),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.form.input.external_exam_percentage,expression:"$parent.form.input.external_exam_percentage"}],staticClass:"form-control",attrs:{placeholder:"...............",type:"number",min:"0",max:"100",value:"70",required:""},domProps:{value:t.$parent.form.input.external_exam_percentage},on:{input:function(e){e.target.composing||t.$set(t.$parent.form.input,"external_exam_percentage",e.target.value)}}})])]):t._e(),t._v(" "),void 0!==t.$parent.form.input.registration_deadline?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(6),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.form.input.registration_deadline,expression:"$parent.form.input.registration_deadline"}],staticClass:"form-control",attrs:{placeholder:".........",type:"date",required:""},domProps:{value:t.$parent.form.input.registration_deadline},on:{input:function(e){e.target.composing||t.$set(t.$parent.form.input,"registration_deadline",e.target.value)}}})])]):t._e(),t._v(" "),void 0!==t.$parent.form.input.unregistration_deadline?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(7),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.form.input.unregistration_deadline,expression:"$parent.form.input.unregistration_deadline"}],staticClass:"form-control",attrs:{placeholder:".........",type:"date",required:""},domProps:{value:t.$parent.form.input.unregistration_deadline},on:{input:function(e){e.target.composing||t.$set(t.$parent.form.input,"unregistration_deadline",e.target.value)}}})])]):t._e(),t._v(" "),t._m(8)],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("Name:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("Starting Date:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("\n                                            Ending Date :\n                                        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("\n                                            Department :\n                                        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("\n                                            Students Set :\n                                        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("\n                                            Professional Exams Percentage (%) :\n                                        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("\n                                            Registration Deadline :\n                                        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("\n                                            Un-Registration Deadline :\n                                        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Save changes")])])}],!1,null,"be04a6da",null).exports,i={name:"IndexTerms",props:["terms"],mounted:function(){},methods:{}},o=Object(r.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card shadow mb-4 mb-xl-0"},[a("div",{staticClass:"card-header bg-transparent"},[a("h3",{staticClass:"mb-0"},[t._v("\n                Semester Academic Terms\n                "),a("div",{staticClass:"float-right"},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-1"),expression:"$store.state.auth.hasRole('ad-1')"}],staticClass:"btn btn-sm btn-outline-primary mb-3",attrs:{"data-toggle":"modal","data-target":"#modal-term"},on:{click:function(e){return t.$parent.$router.push({name:"ad.terms",params:{id:"create-semester"}})}}},[t._v("\n                        Add Semester\n                    ")]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-2"),expression:"$store.state.auth.hasRole('ad-2')"}],staticClass:"btn btn-sm btn-outline-primary mb-3",attrs:{"data-toggle":"modal","data-target":"#modal-term"},on:{click:function(e){return t.$parent.$router.push({name:"ad.terms",params:{id:"create-med-year"}})}}},[t._v("\n                        Add Medical Year\n                    ")])])]),t._v(" "),a("p",[t._v("\n                List of academics terms registered and not ended yet under the your department.\n            ")])]),t._v(" "),a("form",{staticClass:"col-md-12",on:{submit:t.$parent.search_terms}},[a("fake-form-input"),t._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group mb-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.filter.search,expression:"$parent.filter.search"}],staticClass:"form-control",attrs:{placeholder:"Search by academic term by name...",type:"text"},domProps:{value:t.$parent.filter.search},on:{input:function(e){e.target.composing||t.$set(t.$parent.filter,"search",e.target.value)}}}),t._v(" "),t._m(0)])])],1),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table align-items-center table-flush"},[t._m(1),t._v(" "),a("tbody",[t._l(t.terms.data,(function(e){return a("tr",[a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.$parent.$router.push({name:"ad.terms",params:{id:e.id}})}}},[a("i",{staticClass:"ni ni-button-play"})])]),t._v(" "),a("th",{attrs:{scope:"row"}},[t._v(t._s(e.name))]),t._v(" "),a("td",[a("small",[t._v("\n                            "+t._s(t.$root.format_date(e.starting_at))+"\n                            "),a("br"),t._v("\n                            "+t._s(t.$root.format_date(e.ending_at))+"\n                        ")])]),t._v(" "),a("td",[t._v(t._s(e.department.name))]),t._v(" "),a("td",[e.set?a("div",[t._v("\n                            "+t._s(e.set.name)+"\n                        ")]):t._e()])])})),t._v(" "),t._m(2)],2)]),t._v(" "),a("laravel-vue-pagination",{attrs:{limit:5,data:t.terms,align:"center"},on:{"pagination-change-page":t.$parent.get_terms}})],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e("i",{staticClass:"ni ni-zoom-split-in"}),this._v("\n                            Search\n                        ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",{attrs:{scope:"col"}}),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Name")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Dates")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Department")]),t._v(" "),a("th",{attrs:{scope:"col"}},[t._v("Set")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{attrs:{scope:"row"}}),this._v(" "),e("td"),this._v(" "),e("td"),this._v(" "),e("td"),this._v(" "),e("td")])}],!1,null,"b345cf6c",null).exports,m={props:["term"],name:"TermRotations",data:function(){return{form:{input:{},errors:null,type:null},rotation:null}},mounted:function(){},methods:{view_term:function(t){this.rotation=t,this.$modal.show("view_rotation")},create_term:function(){this.$modal.show("rotation_form"),this.form={type:"c",title:"Add a rotation under "+this.term.name,input:{id:this.term.id,name:"",starting_at:"",ending_at:""}}},edit_term:function(t){this.form.input={},this.$modal.show("rotation_form"),this.$modal.hide("view_rotation"),this.form.type="e",this.form.title="Edit "+t.name,this.form.input={id:t.id,name:t.name,starting_at:t.starting_at,ending_at:t.ending_at}},delete_term:function(t){this.form.input={},this.$modal.show("rotation_form"),this.$modal.hide("view_rotation"),this.form.type="d",this.form.title="Delete "+t.name,this.form.input.id=t.id},submitForm:function(t){var e=this;t.preventDefault(),"c"===this.form.type?axios.post("/admin/terms/store-rotation",this.form.input).then((function(t){e.$root.post_success(t.data.success),e.term.terms=t.data.terms,e.$modal.hide("rotation_form")})):"e"===this.form.type?axios.post("/admin/terms/edit-rotation",this.form.input).then((function(t){e.$root.post_success(t.data.success),location.reload()})):"d"===this.form.type&&axios.post("/admin/terms/destroy",this.form.input).then((function(t){e.$root.post_success(t.data.success),location.reload()}))}}},l={components:{TermRotations:Object(r.a)(m,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card shadow mb-4 mb-xl-0",attrs:{id:"view"}},[a("div",{staticClass:"card-header bg-transparent"}),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table align-items-center"},[a("thead",{staticClass:"thead-light"},[a("tr",[a("th",{staticClass:"danger text-xl",attrs:{colspan:"4"}},[a("i",{staticClass:"ni ni-bullet-list-67"}),t._v(" Rotations\n                    "),a("button",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-4"),expression:"$store.state.auth.hasRole('ad-4')"}],staticClass:"btn btn-sm btn-outline-default",on:{click:t.create_term}},[a("i",{staticClass:"ni ni-fat-add"}),t._v(" Add\n                    ")]),t._v(" "),a("modal",{staticClass:"card shadow mb-4 mb-xl-0",attrs:{scrollable:!0,name:"rotation_form",height:"auto"}},[a("h2",{staticClass:"card-header"},[t._v(t._s(t.form.title))]),t._v(" "),t.form.input?a("form",{on:{submit:t.submitForm}},[a("fake-form-input"),t._v(" "),void 0!==t.form.input.name?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("Name:")])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.input.name,expression:"form.input.name"}],staticClass:"form-control",attrs:{placeholder:"..........",type:"text",required:""},domProps:{value:t.form.input.name},on:{input:function(e){e.target.composing||t.$set(t.form.input,"name",e.target.value)}}})])]):t._e(),t._v(" "),void 0!==t.form.input.starting_at?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("Starting Date:")])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.input.starting_at,expression:"form.input.starting_at"}],staticClass:"form-control",attrs:{placeholder:"..........",type:"date",required:""},domProps:{value:t.form.input.starting_at},on:{input:function(e){e.target.composing||t.$set(t.form.input,"starting_at",e.target.value)}}})])]):t._e(),t._v(" "),void 0!==t.form.input.ending_at?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[t._v("\n                                            Ending Date :\n                                        ")])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.input.ending_at,expression:"form.input.ending_at"}],staticClass:"form-control",attrs:{placeholder:"..........",type:"date",required:""},domProps:{value:t.form.input.ending_at},on:{input:function(e){e.target.composing||t.$set(t.form.input,"ending_at",e.target.value)}}})])]):t._e(),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Save changes")])])],1):t._e()])],1)]),t._v(" "),t._m(0)]),t._v(" "),a("tbody",[t._l(t.term.terms,(function(e){return a("tr",[a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(a){return t.view_term(e)}}},[a("i",{staticClass:"ni ni-bold-right"})])]),t._v(" "),a("th",{attrs:{scope:"row"}},[t._v(t._s(e.name))]),t._v(" "),a("td",[t._v(t._s(t.$root.format_date(e.starting_at)))]),t._v(" "),a("td",[t._v(t._s(t.$root.format_date(e.ending_at)))])])})),t._v(" "),t._m(1)],2)]),t._v(" "),a("modal",{attrs:{scrollable:!0,name:"view_rotation",height:"auto"}},[t.rotation?a("table",{staticClass:"table align-items-center table-flush"},[a("tbody",[a("tr",[a("td"),t._v(" "),a("td",[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.edit_term(t.rotation)}}},[t._v("\n                                Edit\n                            ")]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.delete_term(t.rotation)}}},[t._v("\n                                Delete\n                            ")])])]),t._v(" "),a("tr",[a("td",[t._v("Name")]),t._v(" "),a("th",[t._v(t._s(t.rotation.name))])]),t._v(" "),a("tr",[a("td",[t._v("Starting Date")]),t._v(" "),a("th",[t._v(t._s(t.$root.format_date(t.rotation.starting_at)))])]),t._v(" "),a("tr",[a("td",[t._v("Ending Data")]),t._v(" "),a("th",[t._v(t._s(t.$root.format_date(t.rotation.ending_at)))])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("th",[a("router-link",{attrs:{to:{name:"ad.term.classes",params:{term:t.rotation.id}}}},[t._v("\n                                View Classes\n                            ")])],1)])])]):t._e()])],1)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{attrs:{scope:"col"}}),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Name")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Starting")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Ending")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{attrs:{scope:"row"}}),this._v(" "),e("td"),this._v(" "),e("td"),this._v(" "),e("td")])}],!1,null,"1661a67a",null).exports},name:"ViewTerms",props:["term"],mounted:function(){},methods:{}};function d(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var s=0,r=function(){};return{s:r,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return i=t.done,t},e:function(t){o=!0,n=t},f:function(){try{i||null==a.return||a.return()}finally{if(o)throw n}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}var c={name:"ExternalGrade",props:["term"],data:function(){return{assessment:{},term_class:{},major_term_classes:[],local_term:null,confirm:!1,editable:[],grades:null,all_stored:!0,password:null,major_course_id:null,yours:!1}},created:function(){var t=this;this.fetchData(),axios.get("/admin/get/current_courses/term="+this.$route.params.id).then((function(e){t.major_term_classes=e.data.term_classes}))},watch:{$route:"fetchData"},methods:{fetchData:function(){},get_grades:function(t){var e=this;t.preventDefault(),axios.post("/admin/terms/external-grades",{course:this.major_course_id,password:this.password}).then((function(t){e.local_term=t.data.term,e.term_class=t.data.term_class,e.grades=t.data.grades,e.assessment=t.data.assessment,e.yours=t.data.yours,e.calEditable()}))},submitForm:function(t){var e=this;t.preventDefault(),this.confirm?this.password?axios.post("/admin/grades/external/store",{grades:this.grades,password:this.password,assessment:this.assessment.id}).then((function(t){e.$root.post_success(t.data.success),e.grades=t.data.grades,e.calEditable()})):this.$root.post_errors([["Confirm your password to be able to complete the action."]]):this.confirm=!0},calEditable:function(){this.all_stored=!0;var t,e=d(this.grades);try{for(e.s();!(t=e.n()).done;){var a=t.value;this.editable[a.id]=a.scores[this.assessment.id],void 0!==this.editable[a.id]&&null!==this.editable[a.id]||(this.all_stored=!1)}}catch(t){e.e(t)}finally{e.f()}}}};function p(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var s=0,r=function(){};return{s:r,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return i=t.done,t},e:function(t){o=!0,n=t},f:function(){try{i||null==a.return||a.return()}finally{if(o)throw n}}}}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}var v={components:{ViewTerms:Object(r.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card shadow mb-4 mb-xl-0",attrs:{id:"view"}},[a("div",{staticClass:"card-header bg-transparent"},[a("h3",{staticClass:"mb-0"},[a("div",{staticClass:"float-left"},[a("button",{staticClass:"btn btn-outline-primary btn-sm",on:{click:function(e){return t.$parent.$router.push({name:"ad.terms"})}}},[a("i",{staticClass:"ni ni-bold-left"}),t._v(" Back\n                    ")])]),t._v(" "),a("div",{staticClass:"float-right"},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-1")||t.$store.state.auth.hasRole("ad-2"),expression:"$store.state.auth.hasRole('ad-1') || $store.state.auth.hasRole('ad-2')"}],staticClass:"btn btn-sm btn-outline-warning mb-3",attrs:{"data-toggle":"modal","data-target":"#modal-term"},on:{click:t.$parent.editTerm}},[t._v("\n                        Edit\n                    ")]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-1")||t.$store.state.auth.hasRole("ad-2"),expression:"$store.state.auth.hasRole('ad-1') || $store.state.auth.hasRole('ad-2')"}],staticClass:"btn btn-sm btn-outline-danger mb-3",attrs:{"data-toggle":"modal","data-target":"#modal-term"},on:{click:t.$parent.deleteTerm}},[t._v("\n                        Delete\n                    ")])])])]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table align-items-center table-flush"},[a("tbody",[a("tr",[a("td",[t._v("Name")]),t._v(" "),a("th",[t._v(t._s(t.term.name))])]),t._v(" "),a("tr",[a("td",[t._v("Starting Date")]),t._v(" "),a("th",[t._v(t._s(t.$root.format_date(t.term.starting_at)))])]),t._v(" "),a("tr",[a("td",[t._v("Ending Date")]),t._v(" "),a("th",[t._v(t._s(t.$root.format_date(t.term.ending_at)))])]),t._v(" "),t.term.registration_deadline?a("tr",[a("td",[t._v("Registration Deadline")]),t._v(" "),a("th",[t._v(t._s(t.$root.format_date(t.term.registration_deadline)))])]):t._e(),t._v(" "),t.term.unregistration_deadline?a("tr",[a("td",[t._v("Un-Registration Deadline")]),t._v(" "),a("th",[t._v(t._s(t.$root.format_date(t.term.unregistration_deadline)))])]):t._e(),t._v(" "),a("tr",[a("td",[t._v("Department")]),t._v(" "),a("th",[t._v(t._s(t.term.department.name))])]),t._v(" "),t.term.set?a("tr",[a("td",[t._v("Set")]),t._v(" "),a("th",[t._v(t._s(t.term.set.name))])]):t._e(),t._v(" "),t.term.external_exam_percentage?a("tr",[a("td",[t._v("Professional Exams Percentage")]),t._v(" "),a("th",[t._v("\n                        "+t._s(t.term.external_exam_percentage)+"%\n                        "),a("router-link",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-3"),expression:"$store.state.auth.hasRole('ad-3')"}],staticClass:"btn btn-sm btn-link",attrs:{to:{name:"ad.terms",params:{id:t.term.id,ops:"external-exams"}}}},[t._v("\n                            External Exam Grades\n                        ")])],1)]):t._e(),t._v(" "),a("tr",[a("td"),t._v(" "),a("th",[a("router-link",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-5"),expression:"$store.state.auth.hasRole('ad-5')"}],attrs:{to:{name:"ad.term.classes",params:{term:t.term.id}}}},[t._v("\n                            View Classes\n                        ")])],1)])])])])]),t._v(" "),t.term.external_exam_percentage?a("TermRotations",{attrs:{term:t.term}}):t._e()],1)}),[],!1,null,"11a5cae2",null).exports,FormTerms:n,IndexTerms:o,ExternalGrade:Object(r.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-xl-12 order-xl-1"},[t.local_term?a("div",{staticClass:"card shadow"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$router.go(-1)}}},[t._v("Go Back")])]),t._v(" "),a("div",{staticClass:"col-md-10"},[a("h2",[a("span",{staticClass:"text-underline"},[t._v(t._s(t.local_term.name))]),t._v("\n                            External Exams\n                        ")]),t._v(" "),a("h5",[a("small",[t._v("Assessment: ")]),t._v("\n                            "+t._s(t.assessment.name)+"\n                        ")]),t._v(" "),a("h5",{staticClass:"text-danger text-underline"},[t.yours?a("strong",[t._v("Can Edit")]):a("strong",[t._v("Cannot Edit")])])])])]),t._v(" "),a("div",{staticClass:"card-body"},[a("form",{on:{submit:t.submitForm}},[a("table",{staticClass:"table"},[t._m(0),t._v(" "),a("tbody",[t._l(t.grades,(function(e){return a("tr",[a("th",[t._v(t._s(t.$root.full_name(e.student_profile.user)))]),t._v(" "),a("th",[t._v(t._s(e.student_profile.user.num))]),t._v(" "),a("th",[null==t.editable[e.id]?a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group input-group-sm mb-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.scores[t.assessment.id],expression:"grade.scores[assessment.id]"}],staticClass:"form-control",attrs:{placeholder:"score",type:"number",required:"",step:"0.01",min:"0",max:t.assessment.score},domProps:{value:e.scores[t.assessment.id]},on:{input:function(a){a.target.composing||t.$set(e.scores,t.assessment.id,a.target.value)}}}),t._v(" "),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text"},[t._v("/ "+t._s(t.assessment.score))])])])]):a("span",[t._v("\n                                    "+t._s(e.scores[t.assessment.id]+" / "+t.assessment.score)+"\n                                ")])])])})),t._v(" "),t.all_stored?a("tr",[a("td",{staticClass:"h1 text-danger",attrs:{colspan:"3"}},[t._v("You cannot modify grades! Inform appropriate authorities if need be.")])]):a("tr",[a("td",{staticClass:"text-right",attrs:{colspan:"2"}},[t._v("\n                                Save Scores\n                            ")]),t._v(" "),a("td",[t.confirm?a("span",[a("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(e){t.confirm=!1}}},[t._v("Cancel")]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"submit"}},[t._v("Save Changes")])]):a("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"submit"}},[t._v("Store")])])])],2)])])])]):a("div",{staticClass:"card shadow"},[t.term?a("div",{staticClass:"card-header"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2"},[a("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$router.go(-1)}}},[t._v("Go Back")])]),t._v(" "),a("div",{staticClass:"col-md-10"},[a("h2",[a("span",{staticClass:"text-underline"},[t._v(t._s(t.term.name))]),t._v("\n                            External Exams\n                        ")]),t._v(" "),t._m(1)])])]):t._e(),t._v(" "),a("div",{staticClass:"card-body row"},[a("div",{staticClass:"col-2"}),t._v(" "),a("form",{staticClass:"col-8",on:{submit:t.get_grades}},[a("fake-form-input"),t._v(" "),a("div",{staticClass:"form-group mb-3"},[a("small",[t._v("Major Course")]),t._v(" "),a("div",{staticClass:"input-group"},[t._m(2),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.major_course_id,expression:"major_course_id"}],staticClass:"form-control",attrs:{required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.major_course_id=e.target.multiple?a:a[0]}}},t._l(t.major_term_classes,(function(e){return a("option",{domProps:{value:e.id}},[t._v("\n                                    "+t._s(e.course.name)+"\n                                ")])})),0)])]),t._v(" "),a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(3),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{placeholder:"Password confirmation",type:"password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})])]),t._v(" "),t._m(4)],1)])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{colspan:"2"}},[this._v("Student")]),this._v(" "),e("th",[this._v("Score")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("small",[this._v("\n                            Verify with your password.\n                            "),e("strong",[this._v("When confirmed")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("\n                                            Course:\n                                        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[e("i",{staticClass:"ni ni-lock-circle-open"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Get Grades")])])}],!1,null,"7e19b539",null).exports},name:"Terms",data:function(){return{filter:{search:null,search_q:""},terms:{},term:null,form:null,assessment:null,departments:[]}},created:function(){this.$store.state.page="Academic Terms",this.fetchData()},watch:{$route:"fetchData"},methods:{getDepartments:function(){var t=this;axios.get("/admin/get/departments?is_admin=0").then((function(e){if(void 0!==t.form.input.external_exam_percentage){t.departments=[];var a,s=p(e.data.departments);try{for(s.s();!(a=s.n()).done;){var r=a.value;r.has_rotation&&t.departments.push(r)}}catch(t){s.e(t)}finally{s.f()}}else t.departments=e.data.departments}))},editTerm:function(){this.term&&(this.form={},this.form.edit=!0,this.form.title="Edit Term: "+this.term.name,this.form.type="e",this.term.external_exam_percentage?this.form.input={id:this.term.id,name:this.term.name,starting_at:this.term.starting_at,ending_at:this.term.ending_at,department_id:this.term.department_id,set_id:this.term.set_id,registration_required:this.term.registration_required,external_exam_percentage:this.term.external_exam_percentage}:this.form.input={id:this.term.id,name:this.term.name,starting_at:this.term.starting_at,ending_at:this.term.ending_at,department_id:this.term.department_id,registration_required:this.term.registration_required,registration_deadline:this.term.registration_deadline,unregistration_deadline:this.term.unregistration_deadline},this.term=null,this.getDepartments())},deleteTerm:function(){this.term&&(this.form={},this.form.input={},this.form.delete=!0,this.form.input.id=this.term.id,this.form.title="Delete Term: "+this.term.name,this.term=null,this.form.type="d")},createSemester:function(){this.$router.push({name:"ad.terms",params:{id:"create-semester"}})},createMedYear:function(){this.$router.push({name:"ad.terms",params:{id:"create-med-year"}})},fetchData:function(){this.assessment=this.term=this.terms=this.form=null,"create-semester"===this.$route.params.id?(this.getDepartments(),this.form={},this.form.title="Add New Semester",this.form.type="cs",this.form.input={name:"",starting_at:"",ending_at:"",department_id:"",registration_required:!0,is_rotation:!1,registration_deadline:"",unregistration_deadline:""},this.form.create=!0):"create-med-year"===this.$route.params.id?(this.getDepartments(),this.form={},this.form.title="Add New Medical Year",this.form.type="cm",this.form.input={name:"",starting_at:"",ending_at:"",department_id:"",set_id:"",registration_required:!1,is_rotation:!0,external_exam_percentage:70},this.form.create=!0):void 0===this.$route.params.id?this.get_terms():(this.get_term(this.$route.params.id),"external-exams"===this.$route.params.ops&&(this.assessment={}))},search_terms:function(t){t.preventDefault(),this.get_terms()},get_terms:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.filter.search_q=this.filter.search?"&search="+this.filter.search:"",axios.get("/admin/terms?page="+e+this.filter.search_q).then((function(e){t.terms=e.data.terms,t.term=t.form=null}))},get_term:function(t){var e=this;axios.get("/admin/terms/"+t).then((function(t){t.data.term.term_id?e.$router.push({name:"ad.terms",params:{id:t.data.term.term_id}}):e.term=t.data.term,e.terms=null}))}}},h=Object(r.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[t.form?a("FormTerms",t._b({},"FormTerms",t.term,!1)):t._e(),t._v(" "),t.terms?a("IndexTerms",{attrs:{terms:t.terms}}):t._e(),t._v(" "),t.term&&!t.assessment?a("ViewTerms",{attrs:{term:t.term}}):t._e(),t._v(" "),t.assessment?a("ExternalGrade",{attrs:{term:t.term}}):t._e()],1)}),[],!1,null,"6c9c4a0c",null);e.default=h.exports}}]);