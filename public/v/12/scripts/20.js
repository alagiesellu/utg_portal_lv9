(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{116:function(t,e,s){"use strict";s.r(e);function a(t,e){var s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!s){if(Array.isArray(t)||(s=function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);"Object"===s&&t.constructor&&(s=t.constructor.name);if("Map"===s||"Set"===s)return Array.from(t);if("Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return r(t,e)}(t))||e&&t&&"number"==typeof t.length){s&&(t=s);var a=0,n=function(){};return{s:n,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,o=!1;return{s:function(){s=s.call(t)},n:function(){var t=s.next();return l=t.done,t},e:function(t){o=!0,i=t},f:function(){try{l||null==s.return||s.return()}finally{if(o)throw i}}}}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,a=new Array(e);s<e;s++)a[s]=t[s];return a}var n={name:"StudentClasses",data:function(){return{profile:null,form:null,term_class:null,grade:null,assessments:{},totals:{grade:0,score:0}}},created:function(){this.fetchData()},watch:{$route:"fetchData"},methods:{submitForm:function(t){t.preventDefault(),this.form.input.term_class_id=this.term_class.id},fetchData:function(){this.get_student()},get_student:function(){var t=this;axios.get("/admin/classes/student="+this.$route.params.id+"/"+this.$route.params.class).then((function(e){t.profile=e.data.profile,t.term_class=e.data.term_class,t.grade=e.data.grade;var s,r=a(t.term_class.assessments);try{for(r.s();!(s=r.n()).done;){var n=s.value;t.assessments[n.id]=n,null!=t.grade.scores[n.id]&&(t.totals.grade+=parseFloat(t.grade.scores[n.id])),t.totals.score+=parseFloat(n.score)}}catch(t){r.e(t)}finally{r.f()}}))}}},i=s(0),l=Object(i.a)(n,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"card shadow mb-4 mb-xl-0",attrs:{id:"view"}},[s("div",{staticClass:"card-header bg-transparent"},[s("h2",{staticClass:"mb-0"},[t._v("\n                Students\n            ")]),t._v(" "),s("div",{staticClass:"float-right"},[s("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.$router.go(-1)}}},[t._v("Back")])])]),t._v(" "),t.profile?s("div",{staticClass:"table-responsive"},[s("table",{staticClass:"table align-items-center table-flush"},[s("tbody",[s("tr",[s("td",[t._v("Student")]),t._v(" "),s("th",[t._v("\n                        "+t._s(t.$root.full_name(t.profile.user))),s("br"),t._v(" "),s("small",[t._v("Email: "+t._s(t.profile.user.email))])])]),t._v(" "),s("tr",[s("td",[t._v("Course")]),t._v(" "),t.term_class.course?s("th",[t._v(t._s(t.term_class.course.name))]):t._e()]),t._v(" "),s("tr",[s("td",[t._v("Term")]),t._v(" "),t.term_class.term?s("th",[s("router-link",{attrs:{to:{name:"ad.terms",params:{id:t.term_class.term.id}}}},[t._v("\n                            "+t._s(t.term_class.term.name)+"\n                        ")])],1):t._e()]),t._v(" "),s("tr",[s("td",[t._v("Venue")]),t._v(" "),t.term_class.venue?s("th",[t._v(t._s(t.term_class.venue.name))]):t._e()])])]),t._v(" "),t.grade?s("table",{staticClass:"table align-items-center table-flush"},[s("thead",[t._m(0),t._v(" "),s("tr",{staticClass:"thead-light"},[s("th"),t._v(" "),s("th",[t._v("Grading System")]),t._v(" "),s("th",[s("button",{staticClass:"btn btn-sm btn-link text-underline",on:{click:function(e){return t.$modal.show("view_grades")}}},[t._v("\n                            "+t._s(t.grade.grading_system.name)+"\n                        ")])])]),t._v(" "),t._m(1)]),t._v(" "),s("tbody",[t._l(Object.keys(t.grade.scores),(function(e){return t.grade.scores[e]?s("tr",[s("td",[t._v(t._s(t.assessments[e].name))]),t._v(" "),s("td",[t._v(t._s(t.$root.full_name(t.assessments[e].lecturer_profile.user)))]),t._v(" "),s("td",[t._v(t._s(t.grade.scores[e]+" / "+t.assessments[e].score))])]):t._e()})),t._v(" "),s("tr",[s("td"),t._v(" "),s("th",[t._v("Total")]),t._v(" "),s("th",[t._v(t._s(t.totals.grade+" / "+t.totals.score))])])],2),t._v(" "),s("modal",{attrs:{scrollable:!0,name:"view_grades",height:"auto"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-body",domProps:{innerHTML:t._s(t.$root.view_grades(t.grade.grading_system.grades))}})])])],1):t._e()]):t._e()]),t._v(" "),s("modal",{attrs:{name:"students",height:"auto",draggable:!0}},[s("div",{staticClass:"modal modal-content"},[s("div",{staticClass:"modal-header"},[t._v("\n                Registered Students\n            ")]),t._v(" "),s("div",{staticClass:"modal-body"})])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{staticClass:"thead-light"},[e("th"),this._v(" "),e("th"),this._v(" "),e("th")])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",{staticClass:"thead-light"},[e("th",[this._v("Assessment")]),this._v(" "),e("th",[this._v("By")]),this._v(" "),e("th",[this._v("\n                        Score\n                    ")])])}],!1,null,"1ccf03fb",null);e.default=l.exports}}]);