(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{111:function(t,s,e){"use strict";e.r(s);var a={name:"ViewUsers",methods:{}},r=e(0),n={name:"IndexUsers"},i={name:"Students",components:{ViewUsers:Object(r.a)(a,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"col-md-8"},[e("div",{staticClass:"card shadow"},[e("div",{staticClass:"card-header bg-transparent"},[e("h3",{staticClass:"mb-0"},[e("div",{staticClass:"float-left"},[e("router-link",{staticClass:"btn btn-sm btn-outline-primary mb-3",attrs:{to:{name:"ac.students"}}},[e("i",{staticClass:"ni ni-bold-left"}),t._v(" Back\n                        ")])],1)])]),t._v(" "),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table align-items-center table-flush"},[e("tbody",[e("tr",[e("td",[t._v("#")]),t._v(" "),e("th",[t._v("\n                            "+t._s(t.$parent.user.num)+"\n                        ")])]),t._v(" "),e("tr",[e("td",[t._v("First Name")]),t._v(" "),e("th",[t._v("\n                            "+t._s(t.$parent.user.first_name)+"\n                        ")])]),t._v(" "),e("tr",[e("td",[t._v("Middle Name")]),t._v(" "),e("th",[t._v("\n                            "+t._s(t.$parent.user.middle_name)+"\n                        ")])]),t._v(" "),e("tr",[e("td",[t._v("Last Name")]),t._v(" "),e("th",[t._v("\n                            "+t._s(t.$parent.user.last_name)+"\n                        ")])]),t._v(" "),e("tr",[e("td",[t._v("Email")]),t._v(" "),e("th",[t._v("\n                            "+t._s(t.$parent.user.email)+"\n                        ")])]),t._v(" "),e("tr",[e("td",[t._v("Tel")]),t._v(" "),e("th",[t._v("\n                            "+t._s(t.$parent.user.tel)+"\n                        ")])]),t._v(" "),e("tr",[e("td",[t._v("Address")]),t._v(" "),e("th",[t._v("\n                            "+t._s(t.$parent.user.address)+"\n                        ")])]),t._v(" "),e("tr",[e("td",[t._v("Gender")]),t._v(" "),e("th",[t._v("\n                            "+t._s(this.$root.gender(t.$parent.user.gender))+"\n                        ")])]),t._v(" "),e("tr",[e("td",[t._v("Date of Birth")]),t._v(" "),e("th",[t._v("\n                            "+t._s(this.$root.format_date(t.$parent.user.dob))+"\n                        ")])]),t._v(" "),e("tr",[e("td",[t._v("Nationality")]),t._v(" "),e("th",[t._v("\n                            "+t._s(this.$root.country(t.$parent.user.nationality))+"\n                        ")])])])])])])]),t._v(" "),e("div",{staticClass:"col-md-4"},[e("div",{staticClass:"card shadow"},[e("div",{staticClass:"card-body"},[e("img",{staticClass:"img-thumbnail",attrs:{src:"/storage/profiles/"+t.$parent.user.img}})])])])])}),[],!1,null,"551d5a6a",null).exports,IndexUsers:Object(r.a)(n,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-md-12"},[e("div",{staticClass:"card shadow mb-4 mb-xl-0"},[t._m(0),t._v(" "),e("form",{staticClass:"card-body col-md-12",on:{submit:t.$parent.filter_users}},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"input-group mb-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.filter.search,expression:"$parent.filter.search"}],staticClass:"form-control",attrs:{placeholder:"Search by MAT number",type:"number"},domProps:{value:t.$parent.filter.search},on:{input:function(s){s.target.composing||t.$set(t.$parent.filter,"search",s.target.value)}}}),t._v(" "),t._m(1)])])]),t._v(" "),e("div",{staticClass:"table-responsive"},[e("table",{staticClass:"table align-items-center table-flush"},[t._m(2),t._v(" "),e("tbody",[t._l(t.$parent.users.data,(function(s){return e("tr",[e("td",[e("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"ac.students",params:{id:s.num}}}},[e("i",{staticClass:"ni ni-bold-right"})])],1),t._v(" "),e("th",[t._v(t._s(s.num))]),t._v(" "),e("th",[t._v(t._s(t.$root.full_name(s)))]),t._v(" "),e("th",[t._v(t._s(s.email))])])})),t._v(" "),t._m(3)],2)]),t._v(" "),e("laravel-vue-pagination",{attrs:{limit:5,data:t.$parent.users,align:"center"},on:{"pagination-change-page":t.$parent.get_users}})],1)])])}),[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"card-header bg-transparent"},[s("h3",{staticClass:"mb-0"},[this._v("\n                Search Student Profile\n            ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[s("i",{staticClass:"ni ni-zoom-split-in"}),this._v("\n                            Search\n                        ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("thead",{staticClass:"thead-light"},[s("tr",[s("th",{attrs:{scope:"col"}}),this._v(" "),s("th",{attrs:{scope:"col"}},[this._v("#")]),this._v(" "),s("th",{attrs:{scope:"col"}},[this._v("Name")]),this._v(" "),s("th",{attrs:{scope:"col"}},[this._v("Profiles")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("tr",[s("th",{attrs:{scope:"row"}}),this._v(" "),s("td"),this._v(" "),s("td"),this._v(" "),s("td")])}],!1,null,"055b9d56",null).exports},data:function(){return{user:null,users:{},profile:null,filter:{search:null}}},created:function(){this.fetchData()},watch:{$route:"fetchData"},mounted:function(){this.$store.state.page="Students"},methods:{fetchData:function(){void 0===this.$route.params.id?this.get_users():this.get_user()},get_users:function(){var t=this,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.user=null,axios.get("/academic/students?page="+s).then((function(s){t.users=s.data.users}))},get_user:function(){var t=this;axios.get("/academic/students/"+this.$route.params.id).then((function(s){t.user=s.data.user,t.profile=s.data.profile}))},filter_users:function(t){var s=this;t.preventDefault(),axios.post("/academic/students/search",{search:this.filter.search}).then((function(t){s.filter.search=null,s.user=t.data.user,s.profile=t.data.profile,s.$router.push({name:"ac.students",params:{id:s.user.num}})}))}}},l=Object(r.a)(i,(function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"row"},[this.user?s("ViewUsers"):s("IndexUsers")],1)}),[],!1,null,"3800ca28",null);s.default=l.exports}}]);