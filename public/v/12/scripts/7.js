(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{11:function(t,e,a){"use strict";var s={name:"ViewRoles",data:function(){return{group:{},window_roles:window.roles}},methods:{beforeOpen:function(t){this.group=t.params.group}}},r=a(0),i=Object(r.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{scrollable:!0,name:"view-roles",height:"auto"},on:{"before-open":t.beforeOpen}},[a("div",{staticClass:"modal-header"},[a("h3",{staticClass:"modal-title",attrs:{id:"modal-title-create"}},[t._v("Roles for "),a("strong",[t._v(t._s(t.group.name))])])]),t._v(" "),a("div",{staticClass:"modal-body"},t._l(t.group.roles,(function(e){return a("li",[t._v(t._s(t.window_roles[e]))])})),0)])}),[],!1,null,"f62523b2",null);e.a=i.exports},59:function(t,e,a){window,t.exports=function(t){var e={};function a(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=t,a.c=e,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(s,r,function(e){return t[e]}.bind(null,r));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/dist/",a(a.s=0)}([function(t,e,a){"use strict";a.r(e);var s=function(t,e,a,s,r,i,n,o){var l,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=[],u._compiled=!0),l)if(u.functional){u._injectStyles=l;var d=u.render;u.render=function(t,e){return l.call(e),d(t,e)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,l):[l]}return{exports:t,options:u}}({name:"VueWebCam",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:500},autoplay:{type:Boolean,default:!0},screenshotFormat:{type:String,default:"image/jpeg"},selectFirstDevice:{type:Boolean,default:!1},deviceId:{type:String,default:null},playsinline:{type:Boolean,default:!0},resolution:{type:Object,default:null,validator:function(t){return t.height&&t.width}}},data:function(){return{source:null,canvas:null,camerasListEmitted:!1,cameras:[]}},watch:{deviceId:function(t){this.changeCamera(t)}},mounted:function(){this.setupMedia()},beforeDestroy:function(){this.stop()},methods:{legacyGetUserMediaSupport:function(){return function(t){var e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia;return e?new Promise((function(a,s){e.call(navigator,t,a,s)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}},setupMedia:function(){void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=this.legacyGetUserMediaSupport()),this.testMediaAccess()},loadCameras:function(){var t=this;navigator.mediaDevices.enumerateDevices().then((function(e){for(var a=0;a!==e.length;++a){var s=e[a];"videoinput"===s.kind&&t.cameras.push(s)}})).then((function(){t.camerasListEmitted||(t.selectFirstDevice&&t.cameras.length>0&&(t.deviceId=t.cameras[0].deviceId),t.$emit("cameras",t.cameras),t.camerasListEmitted=!0)})).catch((function(e){return t.$emit("notsupported",e)}))},changeCamera:function(t){this.stop(),this.$emit("camera-change",t),this.loadCamera(t)},loadSrcStream:function(t){var e=this;"srcObject"in this.$refs.video?this.$refs.video.srcObject=t:this.source=window.HTMLMediaElement.srcObject(t),this.$refs.video.onloadedmetadata=function(){e.$emit("video-live",t)},this.$emit("started",t)},stopStreamedVideo:function(t){var e=this,a=t.srcObject;a.getTracks().forEach((function(t){t.stop(),e.$emit("stopped",a),e.$refs.video.srcObject=null,e.source=null}))},stop:function(){null!==this.$refs.video&&this.$refs.video.srcObject&&this.stopStreamedVideo(this.$refs.video)},start:function(){this.deviceId&&this.loadCamera(this.deviceId)},pause:function(){null!==this.$refs.video&&this.$refs.video.srcObject&&this.$refs.video.pause()},resume:function(){null!==this.$refs.video&&this.$refs.video.srcObject&&this.$refs.video.play()},testMediaAccess:function(){var t=this,e={video:!0};this.resolution&&(e.video={},e.video.height=this.resolution.height,e.video.width=this.resolution.width),navigator.mediaDevices.getUserMedia(e).then((function(e){e.getTracks().forEach((function(t){t.stop()})),t.loadCameras()})).catch((function(e){return t.$emit("error",e)}))},loadCamera:function(t){var e=this,a={video:{deviceId:{exact:t}}};this.resolution&&(a.video.height=this.resolution.height,a.video.width=this.resolution.width),navigator.mediaDevices.getUserMedia(a).then((function(t){return e.loadSrcStream(t)})).catch((function(t){return e.$emit("error",t)}))},capture:function(){return this.getCanvas().toDataURL(this.screenshotFormat)},getCanvas:function(){var t=this.$refs.video;if(!this.ctx){var e=document.createElement("canvas");e.height=t.videoHeight,e.width=t.videoWidth,this.canvas=e,this.ctx=e.getContext("2d")}var a=this.ctx,s=this.canvas;return a.drawImage(t,0,0,s.width,s.height),s}}},(function(){var t=this.$createElement;return(this._self._c||t)("video",{ref:"video",attrs:{width:this.width,height:this.height,src:this.source,autoplay:this.autoplay,playsinline:this.playsinline}})})).exports;function r(t){t.component("vue-web-cam",s)}a.d(e,"version",(function(){return i})),a.d(e,"WebCam",(function(){return s})),"undefined"!=typeof window&&window.Vue&&window.Vue.use(r),e.default=r;var i="__VERSION__"}])},99:function(t,e,a){"use strict";a.r(e);var s={name:"IndexUsers"},r=a(0),i=Object(r.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card shadow mb-4 mb-xl-0"},[a("div",{staticClass:"card-header bg-transparent"},[a("h3",{staticClass:"mb-0"},[a("div",{staticClass:"float-right"},[a("router-link",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-13"),expression:"$store.state.auth.hasRole('ad-13')"}],staticClass:"btn btn-sm btn-outline-primary mb-3",attrs:{to:{name:"ad.users",params:{ops:"create"}},"data-toggle":"modal","data-target":"#modal-term"}},[t._v("\n                        Add New user\n                    ")])],1)])]),t._v(" "),a("form",{staticClass:"col-md-12",on:{submit:t.$parent.filter_users}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group mb-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.filter.search,expression:"$parent.filter.search"}],staticClass:"form-control",attrs:{placeholder:"Student or Staff Number, Email, or Names...",type:"text"},domProps:{value:t.$parent.filter.search},on:{input:function(e){e.target.composing||t.$set(t.$parent.filter,"search",e.target.value)}}}),t._v(" "),t._m(0)])])]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table align-items-center table-flush"},[t._m(1),t._v(" "),a("tbody",[t._l(t.$parent.users.data,(function(e){return a("tr",[a("td",[a("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"ad.users",params:{id:e.id}}}},[a("i",{staticClass:"ni ni-bold-right"})])],1),t._v(" "),a("th",[t._v(t._s(e.num))]),t._v(" "),a("th",[t._v(t._s(t.$root.full_name(e)))]),t._v(" "),a("th",t._l(e.profiles,(function(s){return a("span",{staticClass:"badge",class:[s.id==e.profile_id?"badge-default":"badge-light"]},[t._v("\n                            "+t._s(t.$root.profile_type(s.type))+"\n                        ")])})),0)])})),t._v(" "),t._m(2)],2)]),t._v(" "),a("laravel-vue-pagination",{attrs:{limit:5,data:t.$parent.users,align:"center"},on:{"pagination-change-page":t.$parent.get_users}})],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e("i",{staticClass:"ni ni-zoom-split-in"}),this._v("\n                            Search\n                        ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",{staticClass:"thead-light"},[e("tr",[e("th",{attrs:{scope:"col"}}),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("#")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Name")]),this._v(" "),e("th",{attrs:{scope:"col"}},[this._v("Profiles")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",{attrs:{scope:"row"}}),this._v(" "),e("td"),this._v(" "),e("td"),this._v(" "),e("td")])}],!1,null,"516a34e6",null).exports;function n(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return o(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var s=0,r=function(){};return{s:r,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n=!0,l=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return n=t.done,t},e:function(t){l=!0,i=t},f:function(){try{n||null==a.return||a.return()}finally{if(l)throw i}}}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}var l={name:"EditProfile",data:function(){return{department_id:null,major_department_id:null,minor_department_id:null,departments:[],major_departments:[],minor_departments:[],sets:[],groups:[],form:{},profile:{}}},mounted:function(){},watch:{},methods:{departmentSelected:function(){"s"===this.profile.type?(this.get_majors(),this.get_sets()):this.get_groups()},get_majors:function(){var t=this;void 0!==this.profile.department_id&&axios.get("/admin/get/majors/department="+this.profile.department_id).then((function(e){t.major_departments=e.data.majors,t.minor_departments=e.data.all_majors}))},get_groups:function(){var t=this;void 0!==this.profile.department_id&&axios.get("/admin/get/groups/department="+this.profile.department_id).then((function(e){t.groups=e.data.groups}))},get_sets:function(){var t=this;void 0!==this.profile.department_id&&axios.get("/admin/get/sets/department="+this.profile.department_id).then((function(e){t.sets=e.data.sets}))},beforeOpen:function(t){this.form=t.params.form,this.profile=t.params.profile,this.getDepartments(),this.departmentSelected()},getDepartments:function(){var t=this,e="ad"===this.profile.type?1:0;axios.get("/admin/get/departments?is_admin="+e).then((function(e){if(t.departments=[],"ad"===t.profile.type)t.departments=e.data.departments;else if("ac"===t.profile.type){var a,s=n(e.data.departments);try{for(s.s();!(a=s.n()).done;){var r=a.value;r.is_major||t.departments.push(r)}}catch(t){s.e(t)}finally{s.f()}}else{var i,o=n(e.data.departments);try{for(o.s();!(i=o.n()).done;){var l=i.value;l.is_major&&t.departments.push(l)}}catch(t){o.e(t)}finally{o.f()}}}))},onProfileDepartmentChange:function(){"s"!==this.profile.type&&(this.sets=[],this.get_groups())},submitForm:function(t){var e=this;t.preventDefault(),"e"===this.form.ops?axios.post("/admin/profiles/edit",this.profile).then((function(t){e.$root.post_success(t.data.success),e.$parent.$parent.user.profiles=t.data.profiles,e.$modal.hide("edit-profile")})):"c"===this.form.ops&&axios.post("/admin/profiles/store",this.profile).then((function(t){e.$root.post_success(t.data.success),e.$parent.$parent.user.profiles=t.data.profiles,e.$modal.hide("edit-profile")}))}}},u=Object(r.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{scrollable:!0,name:"edit-profile",height:"auto"},on:{"before-open":t.beforeOpen}},[a("div",{staticClass:"modal-header"},[a("h3",{staticClass:"modal-title",attrs:{id:"modal-title-create"}},["c"===t.form.ops?a("span",[t._v("New")]):a("span",[t._v("Edit")]),t._v(" "),"ad"===t.profile.type?a("span",[t._v("Admin")]):"ac"===t.profile.type?a("span",[t._v("Academic")]):a("span",[t._v("Student")]),t._v("\n\n                Profile\n            ")])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("form",{on:{submit:t.submitForm}},[a("fake-form-input"),t._v(" "),a("div",{staticClass:"form-group mb-3"},[a("div",{ref:"active",staticClass:"custom-checkbox"},[a("label",{staticClass:"custom-toggle"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.profile.active,expression:"profile.active"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.profile.active)?t._i(t.profile.active,null)>-1:t.profile.active},on:{change:function(e){var a=t.profile.active,s=e.target,r=!!s.checked;if(Array.isArray(a)){var i=t._i(a,null);s.checked?i<0&&t.$set(t.profile,"active",a.concat([null])):i>-1&&t.$set(t.profile,"active",a.slice(0,i).concat(a.slice(i+1)))}else t.$set(t.profile,"active",r)}}}),t._v(" "),a("span",{staticClass:"custom-toggle-slider rounded-circle"})])])]),t._v(" "),t.profile.active?a("div",[a("h4",{staticClass:"text-success"},[t._v("Profile Activated")]),t._v(" "),a("div",{staticClass:"form-group mb-3"},[a("label",{staticClass:"form-control-label"},[t._v("Department")]),t._v(" "),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"ni ni-building"})])]),t._v(" "),a("v-select",{staticClass:"form-control",attrs:{options:t.departments,reduce:function(t){return t.id},label:"name"},on:{input:t.departmentSelected},scopedSlots:t._u([{key:"search",fn:function(e){var s=e.attributes,r=e.events;return[a("input",t._g(t._b({staticClass:"vs__search",attrs:{required:!t.profile.department_id}},"input",s,!1),r))]}}],null,!1,312712132),model:{value:t.profile.department_id,callback:function(e){t.$set(t.profile,"department_id",e)},expression:"profile.department_id"}})],1)]),t._v(" "),"s"===t.profile.type?a("div",[a("div",{staticClass:"form-group mb-3"},[a("label",{staticClass:"form-control-label"},[t._v("Minor")]),t._v(" "),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"ni ni-building"})])]),t._v(" "),a("v-select",{staticClass:"form-control",attrs:{options:t.minor_departments,reduce:function(t){return t.id},label:"name"},scopedSlots:t._u([{key:"search",fn:function(e){var s=e.attributes,r=e.events;return[a("input",t._g(t._b({staticClass:"vs__search"},"input",s,!1),r))]}}],null,!1,411681397),model:{value:t.profile.minor_department_id,callback:function(e){t.$set(t.profile,"minor_department_id",e)},expression:"profile.minor_department_id"}})],1)]),t._v(" "),a("div",{staticClass:"form-group mb-3"},[a("label",{staticClass:"form-control-label"},[t._v("Set")]),t._v(" "),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"ni ni-building"})])]),t._v(" "),a("v-select",{staticClass:"form-control",attrs:{options:t.sets,reduce:function(t){return t.id},label:"name"},scopedSlots:t._u([{key:"search",fn:function(e){var s=e.attributes,r=e.events;return[a("input",t._g(t._b({staticClass:"vs__search",attrs:{disabled:null===t.profile.department_id}},"input",s,!1),r))]}}],null,!1,2370231418),model:{value:t.profile.set_id,callback:function(e){t.$set(t.profile,"set_id",e)},expression:"profile.set_id"}})],1)]),t._v(" "),a("div",{staticClass:"form-group mb-3"},[a("label",{staticClass:"form-control-label"},[t._v("Enrolled Date")]),t._v(" "),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"ni ni-calendar-grid-58"})])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.profile.enrolled_at,expression:"profile.enrolled_at"}],staticClass:"form-control",attrs:{placeholder:"Enrolled Date",type:"date",name:"enrolled_at",required:""},domProps:{value:t.profile.enrolled_at},on:{input:function(e){e.target.composing||t.$set(t.profile,"enrolled_at",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"form-group mb-3"},[a("label",{staticClass:"form-control-label"},[t._v("Completion Date")]),t._v(" "),a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"ni ni-calendar-grid-58"})])]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.profile.completed_at,expression:"profile.completed_at"}],staticClass:"form-control",attrs:{placeholder:"Completion Date",type:"date",name:"completed_at"},domProps:{value:t.profile.completed_at},on:{input:function(e){e.target.composing||t.$set(t.profile,"completed_at",e.target.value)}}})])])]):a("div",[a("div",{staticClass:"form-group mb-3"},[a("label",{staticClass:"form-control-label"},[t._v("Group")]),t._v(" "),a("div",{ref:"group_id",staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text"},[a("i",{staticClass:"ni ni-building"})])]),t._v(" "),a("v-select",{staticClass:"form-control",attrs:{options:t.groups,reduce:function(t){return t.id},label:"name"},scopedSlots:t._u([{key:"search",fn:function(e){var s=e.attributes,r=e.events;return[a("input",t._g(t._b({staticClass:"vs__search"},"input",s,!1),r))]}}],null,!1,411681397),model:{value:t.profile.group_id,callback:function(e){t.$set(t.profile,"group_id",e)},expression:"profile.group_id"}})],1)])])]):a("div",[a("h4",{staticClass:"text-danger"},[t._v("Profile Deactivated")])]),t._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Save changes")]),t._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(e){return t.$modal.hide("edit-profile")}}},[t._v("Close")])])],1)])])}),[],!1,null,"c57ddb34",null).exports,d=a(11),c={name:"UploadPhoto",data:function(){return{form:{input:{image:""}},user:{}}},methods:{beforeOpen:function(t){this.user=t.params.user},onFileChange:function(t){var e=t.target.files||t.dataTransfer.files;e.length&&this.createImage(e[0])},createImage:function(t){var e=this,a=new FileReader;a.onload=function(t){e.form.input.image=t.target.result},a.readAsDataURL(t)},uploadFile:function(){var t=this;"image"===this.form.input.image.substr(5,5)?axios.post("/admin/users/upload",{image:this.form.input.image,user_id:this.user.id}).then((function(e){t.$root.post_success(e.data.success),t.$parent.$parent.user.img=e.data.img,t.$modal.hide("profile-upload")})):this.$root.post_errors({msg:["Invalid! Must select a image."]})}}},p=Object(r.a)(c,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{name:"profile-upload",height:"auto",draggable:!0},on:{"before-open":t.beforeOpen}},[a("h2",{staticClass:"modal-header"},[a("i",{staticClass:"ni ni-cloud-upload-96"},[t._v(" Update Profile")])]),t._v(" "),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("img",{staticClass:"img-thumbnail",attrs:{src:t.form.input.image}}),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"row"},[a("input",{staticClass:"form-control col-8",attrs:{type:"file"},on:{change:t.onFileChange}}),t._v(" "),a("button",{staticClass:"btn btn-success col-4",on:{click:t.uploadFile}},[t._v("Upload")])])])])])])}),[],!1,null,"74c87783",null).exports,m=a(59);function v(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return f(t,e)}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}var _={name:"CamStudio",components:{"vue-web-cam":a.n(m).a},data:function(){return{img:null,camera:null,deviceId:null,devices:[],user:null}},computed:{device:function(){var t=this;return this.devices.find((function(e){return e.deviceId===t.deviceId}))}},watch:{camera:function(t){this.deviceId=t},devices:function(){var t=v(this.devices),e=t[0];t.slice(1);e&&(this.camera=e.deviceId,this.deviceId=e.deviceId)}},methods:{onCapture:function(){this.img=this.$refs.webcam.capture()},onStarted:function(t){},onStopped:function(t){},onStop:function(){this.$refs.webcam.stop()},onStart:function(){this.$refs.webcam.start()},onError:function(t){},onCameras:function(t){this.devices=t},onCameraChange:function(t){this.deviceId=t,this.camera=t},beforeOpen:function(t){this.user=t.params.user},uploadFile:function(){var t=this;"image"===this.form.input.image.substr(5,5)?axios.post(window.api_url+"/users/upload",{image:this.form.input.image,user_id:this.user.id}).then((function(e){t.$root.post_success(e.data.success),t.$parent.$parent.user.img=e.data.img,t.$modal.hide("profile-upload")})):this.$root.post_errors({msg:["Invalid! Must select a image."]})}}},h={name:"ViewUsers",components:{CamStudio:Object(r.a)(_,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("modal",{attrs:{name:"cam-studio",height:"auto"},on:{"before-open":t.beforeOpen}},[a("h2",{staticClass:"modal-header"},[a("i",{staticClass:"ni ni-camera-compact"},[t._v(" Cam Studio")])]),t._v(" "),t.user?a("div",{staticClass:"modal-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("h2",[t._v("Current Camera")]),t._v(" "),t.device?a("code",[t._v(t._s(t.device.label))]):t._e(),t._v(" "),a("div",{staticClass:"border"},[a("vue-web-cam",{ref:"webcam",attrs:{"device-id":t.deviceId,width:"100%"},on:{started:t.onStarted,stopped:t.onStopped,error:t.onError,cameras:t.onCameras,"camera-change":t.onCameraChange}})],1),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.camera,expression:"camera"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.camera=e.target.multiple?a:a[0]}}},[a("option",[t._v("-- Select Device --")]),t._v(" "),t._l(t.devices,(function(e){return a("option",{key:e.deviceId,domProps:{value:e.deviceId}},[t._v(t._s(e.label))])}))],2)]),t._v(" "),a("div",{staticClass:"col-md-12"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.onCapture}},[t._v("Capture Photo")]),t._v(" "),a("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:t.onStop}},[t._v("Stop Camera")]),t._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.onStart}},[t._v("Start Camera")])])])]),t._v(" "),a("div",{staticClass:"col-md-6"},[a("h2",[t._v("Captured Image")]),t._v(" "),a("figure",{staticClass:"figure"},[a("img",{staticClass:"img-responsive",attrs:{src:t.img}})])])])]):t._e()])}),[],!1,null,"004df350",null).exports,UploadPhoto:p,ViewRoles:d.a,EditProfile:u},data:function(){return{form:{ops:null,profile:{},password:{}}}},methods:{submitResetPassword:function(t){var e=this;t.preventDefault(),this.form.password.user_id=this.$parent.user.id,axios.post("/admin/users/reset/password",this.form.password).then((function(t){e.$root.post_success(t.data.success),e.$modal.hide("reset-password")}))},edit_profile:function(t){var e=this;axios.get("/admin/users/profile/"+t.id).then((function(t){e.$modal.show("edit-profile",{profile:t.data.profile,form:{ops:"e"}})}))},add_profile:function(t){this.$modal.show("edit-profile",{profile:{type:t,active:1,user_id:this.$parent.user.id},form:{ops:"c"}})}}},g=Object(r.a)(h,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row col-12"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card shadow mb-4 mb-xl-0",attrs:{id:"view"}},[a("div",{staticClass:"card-header bg-transparent"},[a("h3",{staticClass:"mb-0"},[a("div",{staticClass:"float-left"},[a("button",{staticClass:"btn btn-sm btn-outline-primary mb-3",on:{click:function(e){return t.$router.go(-1)}}},[a("i",{staticClass:"ni ni-bold-left"}),t._v(" Back\n                            ")])]),t._v(" "),a("div",{staticClass:"float-right"},[a("router-link",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-13"),expression:"$store.state.auth.hasRole('ad-13')"}],staticClass:"btn btn-sm btn-outline-warning mb-3",attrs:{to:{name:"ad.users",params:{id:t.$parent.user.id,ops:"edit"}}}},[t._v("\n                                Edit\n                            ")]),t._v(" "),a("router-link",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-13"),expression:"$store.state.auth.hasRole('ad-13')"}],staticClass:"btn btn-sm btn-outline-danger mb-3",attrs:{to:{name:"ad.users",params:{id:t.$parent.user.id,ops:"delete"}}}},[t._v("\n                                Delete\n                            ")])],1)])]),t._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table align-items-center table-flush"},[a("tbody",[a("tr",[a("td",{staticClass:"text-center row"},[a("div",{staticClass:"col-12"},[a("img",{staticClass:"img-thumbnail",attrs:{src:"/storage/profiles/"+t.$parent.user.img}}),t._v(" "),a("button",{staticClass:"btn btn-sm btn-secondary btn-block",on:{click:function(e){return t.$modal.show("profile-upload",{user:t.$parent.user})}}},[t._v("\n                                        Upload\n                                    ")])])])]),t._v(" "),a("tr",[a("th",[a("small",[t._v("#")]),t._v("\n                                "+t._s(t.$parent.user.num)+"\n                            ")])]),t._v(" "),a("tr",[a("th",[a("small",[t._v("First Name")]),t._v("\n                                "+t._s(t.$parent.user.first_name)+"\n                            ")])]),t._v(" "),a("tr",[a("th",[a("small",[t._v("Middle Name")]),t._v("\n                                "+t._s(t.$parent.user.middle_name)+"\n                            ")])]),t._v(" "),a("tr",[a("th",[a("small",[t._v("Last Name")]),t._v("\n                                "+t._s(t.$parent.user.last_name)+"\n                            ")])]),t._v(" "),a("tr",[a("th",[a("small",[t._v("Email")]),t._v("\n                                "+t._s(t.$parent.user.email)+"\n                            ")])]),t._v(" "),a("tr",[a("th",[a("small",[t._v("Tel")]),t._v("\n                                "+t._s(t.$parent.user.tel)+"\n                            ")])]),t._v(" "),a("tr",[a("th",[a("small",[t._v("Address")]),t._v("\n                                "+t._s(t.$parent.user.address)+"\n                            ")])]),t._v(" "),a("tr",[a("th",[a("small",[t._v("Gender")]),t._v("\n                                "+t._s(this.$root.gender(t.$parent.user.gender))+"\n                            ")])]),t._v(" "),a("tr",[a("th",[a("small",[t._v("Date of Birth")]),t._v("\n                                "+t._s(this.$root.format_date(t.$parent.user.dob))+"\n                            ")])]),t._v(" "),a("tr",[a("th",[a("small",[t._v("Nationality")]),t._v("\n                                "+t._s(this.$root.country(t.$parent.user.nationality))+"\n                            ")])])])])])]),t._v(" "),a("EditProfile"),t._v(" "),a("ViewRoles"),t._v(" "),a("UploadPhoto"),t._v(" "),a("CamStudio")],1),t._v(" "),a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card shadow mb-4 mb-xl-0"},[a("h2",{staticClass:"card-header bg-transparent"},[t._v("\n                    Profiles\n                    "),a("div",{staticClass:"float-right"},[a("div",{staticClass:"btn-group dropleft"},[a("button",{staticClass:"btn btn-outline-primary btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v("\n                                New Profile\n                            ")]),t._v(" "),a("div",{staticClass:"dropdown-menu"},[a("button",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-14.ad"),expression:"$store.state.auth.hasRole('ad-14.ad')"}],staticClass:"dropdown-item",on:{click:function(e){return t.add_profile("ad")}}},[t._v("\n                                    Admin\n                                ")]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-14.ac"),expression:"$store.state.auth.hasRole('ad-14.ac')"}],staticClass:"dropdown-item",on:{click:function(e){return t.add_profile("ac")}}},[t._v("\n                                    Academic\n                                ")]),t._v(" "),a("button",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-14.s"),expression:"$store.state.auth.hasRole('ad-14.s')"}],staticClass:"dropdown-item",on:{click:function(e){return t.add_profile("s")}}},[t._v("\n                                    Student\n                                ")])])])])]),t._v(" "),a("div",{staticClass:"card-body"},t._l(t.$parent.user.profiles,(function(e){return a("div",[a("button",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-14."+e.type),expression:"$store.state.auth.hasRole('ad-14.'+profile.type)"}],staticClass:"btn btn-sm btn-outline-primary mb-3 float-right",on:{click:function(a){return t.edit_profile(e)}}},[t._v("\n                            Edit "+t._s(t.$parent.profile_type(e.type))+" profile\n                        ")]),t._v(" "),a("h5",{class:{"text-danger":!e.active}},[e.active?t._e():a("span",{staticClass:"badge badge-danger"},[t._v("Deactivated"),a("br")]),t._v(" "),e.id===t.$parent.user.profile_id?a("span",{staticClass:"badge badge-default"},[t._v("Currently Using"),a("br")]):t._e(),t._v(" "),a("div",{staticClass:"text-capitalize"},[a("small",[t._v("Type: ")]),t._v(t._s(t.$parent.profile_type(e.type))),a("br")]),t._v(" "),null!=e.set?a("div",[a("small",[t._v("Set: ")]),t._v(t._s(e.set.name)+"\n                            ")]):t._e(),t._v(" "),null!=e.department?a("div",[a("small",[t._v("Department: ")]),t._v(" "),a("router-link",{attrs:{target:"_blank",to:{name:"ad.departments",params:{id:e.department_id}}}},[t._v("\n                                    "+t._s(e.department.name)+"\n                                ")])],1):t._e(),t._v(" "),null!=e.major_department?a("div",[a("small",[t._v("Major: ")]),t._v(" "),a("router-link",{attrs:{target:"_blank",to:{name:"ad.departments",params:{id:e.major_department_id}}}},[t._v("\n                                    "+t._s(e.major_department.name)+"\n                                ")])],1):t._e(),t._v(" "),null!=e.minor_department?a("div",[a("small",[t._v("Minor: ")]),t._v(" "),a("router-link",{attrs:{target:"_blank",to:{name:"ad.departments",params:{id:e.minor_department_id}}}},[t._v("\n                                    "+t._s(e.minor_department.name)+"\n                                ")])],1):t._e(),t._v(" "),null!=e.completed_at?a("div",[a("small",[t._v("Completion Date: ")]),t._v("\n                                "+t._s(t.$root.format_date(e.completed_at))+"\n                            ")]):t._e(),t._v(" "),null!=e.enrolled_at?a("div",[a("small",[t._v("Enrolled Date: ")]),t._v("\n                                "+t._s(t.$root.format_date(e.enrolled_at))+"\n                            ")]):t._e(),t._v(" "),null!=e.group?a("div",[a("small",[t._v("Role Group: ")]),t._v(" "),a("button",{staticClass:"btn btn-sm btn-link",on:{click:function(a){return t.$modal.show("view-roles",{group:e.group})}}},[t._v(t._s(e.group.name))])]):t._e()]),t._v(" "),"s"===e.type?a("h5",{staticClass:"mb-0 text-center"},[a("router-link",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-15"),expression:"$store.state.auth.hasRole('ad-15')"}],staticClass:"btn btn-link text-underline",attrs:{to:{name:"ad.transcripts",params:{id:t.$parent.user.num}}}},[t._v("\n                                Transcript\n                            ")]),t._v(" "),a("router-link",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-23"),expression:"$store.state.auth.hasRole('ad-23')"}],staticClass:"btn btn-link text-underline",attrs:{to:{name:"ad.grades",params:{id:t.$parent.user.num}}}},[t._v("\n                                Grades\n                            ")]),t._v(" "),a("router-link",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.auth.hasRole("ad-17"),expression:"$store.state.auth.hasRole('ad-17')"}],staticClass:"btn btn-link text-underline",attrs:{to:{name:"ad.finance",params:{id:t.$parent.user.num}}}},[t._v("\n                                Finance\n                            ")])],1):t._e(),t._v(" "),a("hr")])})),0)])])])}),[],!1,null,"c4b35246",null).exports,b={name:"FromUsers",components:{ViewRoles:d.a},methods:{submitForm:function(t){var e=this;switch(t.preventDefault(),this.$parent.form.type){case"c":axios.post("/admin/users/store",this.$parent.form.input).then((function(t){e.$root.post_success(t.data.success),e.$parent.user=e.$parent.form=null,e.$parent.users=t.data.users,e.$router.push({name:"ad.users",params:{id:t.data.user.id}})}));break;case"d":axios.post("/admin/users/destroy",this.$parent.form.input).then((function(t){e.$root.post_success(t.data.success),e.$parent.user=e.$parent.form=null,e.$parent.users=t.data.users,e.$router.push({name:"ad.users"})}));break;case"e":axios.post("/admin/users/edit",this.$parent.form.input).then((function(t){e.$root.post_success(t.data.success),e.$parent.form=null,e.$parent.user=t.data.user,e.$router.push({name:"ad.users",params:{id:t.data.user.id}})}))}}}};function C(t,e){var a="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!a){if(Array.isArray(t)||(a=function(t,e){if(!t)return;if("string"==typeof t)return $(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return $(t,e)}(t))||e&&t&&"number"==typeof t.length){a&&(t=a);var s=0,r=function(){};return{s:r,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,n=!0,o=!1;return{s:function(){a=a.call(t)},n:function(){var t=a.next();return n=t.done,t},e:function(t){o=!0,i=t},f:function(){try{n||null==a.return||a.return()}finally{if(o)throw i}}}}function $(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}var y={name:"Users",components:{FromUsers:Object(r.a)(b,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card shadow mb-4 mb-xl-0",attrs:{id:"view"}},[a("div",{staticClass:"card-header bg-transparent"},[a("button",{staticClass:"btn btn-sm btn-outline-primary float-right",on:{click:function(e){return t.$router.go(-1)}}},[a("i",{staticClass:"ni ni-bold-left"}),t._v(" Back\n                ")]),t._v(" "),a("h4",{domProps:{textContent:t._s(t.$parent.form.title)}}),t._v(" "),t.$parent.user?a("h3",[a("small",[t._v("#")]),t._v(" "+t._s(t.$parent.user.num)+"\n                    "),a("br"),t._v(" "),a("small",[t._v("Names")]),t._v(" "),a("router-link",{attrs:{to:{name:"ad.users",params:{id:t.$parent.user.id}}}},[t._v(t._s(t.$root.full_name(t.$parent.user)))])],1):t._e()]),t._v(" "),a("div",{staticClass:"card-body"},[a("form",{on:{submit:t.submitForm}},[a("fake-form-input"),t._v(" "),void 0!==t.$parent.form.input.num?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(0),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.form.input.num,expression:"$parent.form.input.num"}],staticClass:"form-control",attrs:{placeholder:"user number",type:"text",required:""},domProps:{value:t.$parent.form.input.num},on:{input:function(e){e.target.composing||t.$set(t.$parent.form.input,"num",e.target.value)}}})])]):t._e(),t._v(" "),void 0!==t.$parent.form.input.first_name?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(1),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.form.input.first_name,expression:"$parent.form.input.first_name"}],staticClass:"form-control",attrs:{placeholder:"user first name",type:"text",required:""},domProps:{value:t.$parent.form.input.first_name},on:{input:function(e){e.target.composing||t.$set(t.$parent.form.input,"first_name",e.target.value)}}})])]):t._e(),t._v(" "),void 0!==t.$parent.form.input.middle_name?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(2),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.form.input.middle_name,expression:"$parent.form.input.middle_name"}],staticClass:"form-control",attrs:{placeholder:"user middle name",type:"text"},domProps:{value:t.$parent.form.input.middle_name},on:{input:function(e){e.target.composing||t.$set(t.$parent.form.input,"middle_name",e.target.value)}}})])]):t._e(),t._v(" "),void 0!==t.$parent.form.input.last_name?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(3),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.form.input.last_name,expression:"$parent.form.input.last_name"}],staticClass:"form-control",attrs:{placeholder:"user last name",type:"text",required:""},domProps:{value:t.$parent.form.input.last_name},on:{input:function(e){e.target.composing||t.$set(t.$parent.form.input,"last_name",e.target.value)}}})])]):t._e(),t._v(" "),void 0!==t.$parent.form.input.email?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(4),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.form.input.email,expression:"$parent.form.input.email"}],staticClass:"form-control",attrs:{placeholder:"user email",type:"text",required:""},domProps:{value:t.$parent.form.input.email},on:{input:function(e){e.target.composing||t.$set(t.$parent.form.input,"email",e.target.value)}}})])]):t._e(),t._v(" "),void 0!==t.$parent.form.input.tel?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(5),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.form.input.tel,expression:"$parent.form.input.tel"}],staticClass:"form-control",attrs:{placeholder:"Telephone Number",type:"tel",required:""},domProps:{value:t.$parent.form.input.tel},on:{input:function(e){e.target.composing||t.$set(t.$parent.form.input,"tel",e.target.value)}}})])]):t._e(),t._v(" "),void 0!==t.$parent.form.input.address?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(6),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.form.input.address,expression:"$parent.form.input.address"}],staticClass:"form-control",attrs:{placeholder:"user address",type:"text",required:""},domProps:{value:t.$parent.form.input.address},on:{input:function(e){e.target.composing||t.$set(t.$parent.form.input,"address",e.target.value)}}})])]):t._e(),t._v(" "),void 0!==t.$parent.form.input.gender?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(7),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.$parent.form.input.gender,expression:"$parent.form.input.gender"}],ref:"gender_select",staticClass:"form-control",attrs:{id:"gender",required:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.$parent.form.input,"gender",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"m"}},[t._v("Male")]),t._v(" "),a("option",{attrs:{value:"f"}},[t._v("Female")])])])]):t._e(),t._v(" "),void 0!==t.$parent.form.input.dob?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(8),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.$parent.form.input.dob,expression:"$parent.form.input.dob"}],staticClass:"form-control",attrs:{placeholder:"Date of birth",type:"date",required:""},domProps:{value:t.$parent.form.input.dob},on:{input:function(e){e.target.composing||t.$set(t.$parent.form.input,"dob",e.target.value)}}})])]):t._e(),t._v(" "),void 0!==t.$parent.form.input.nationality?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(9),t._v(" "),a("country-select",{staticClass:"form-control",attrs:{topCountry:"GM",country:t.$parent.form.input.nationality},model:{value:t.$parent.form.input.nationality,callback:function(e){t.$set(t.$parent.form.input,"nationality",e)},expression:"$parent.form.input.nationality"}})],1)]):t._e(),t._v(" "),void 0!==t.$parent.form.input.profile?a("div",{staticClass:"form-group mb-3"},[a("div",{staticClass:"input-group"},[t._m(10),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.$parent.form.input.profile,expression:"$parent.form.input.profile"}],staticClass:"form-control",attrs:{required:""},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.$parent.form.input,"profile",e.target.multiple?a:a[0])},function(e){return t.$parent.get_departments()}]}},[a("option",{attrs:{value:"ad"}},[t._v("Admin")]),t._v(" "),a("option",{attrs:{value:"ac"}},[t._v("Academics")]),t._v(" "),a("option",{attrs:{value:"s"}},[t._v("Student")])])])]):t._e(),t._v(" "),t._m(11)],1)])]),t._v(" "),a("ViewRoles")],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("Number:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("First Name:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("Middle Name:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("Last Name:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("Email:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("Tel:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("Address:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("Gender:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("Date of Birth:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("Nationality:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("span",{staticClass:"input-group-text"},[this._v("Profile Type:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Save changes")])])}],!1,null,"fb8c5d04",null).exports,ViewUsers:g,IndexUsers:i},data:function(){return{users:null,user:null,departments:[],form:null,filter:{search:null}}},created:function(){this.fetchData()},watch:{$route:"fetchData"},mounted:function(){this.$store.state.page="Users"},methods:{get_departments:function(){this.departments=this.$root.getProfileDepartment(this.form.input.profile)},fetchData:function(){var t=this;this.users=this.user=this.form=null,"create"===this.$route.params.id||"create"===this.$route.params.ops?this.form={title:"Add User",type:"c",input:{id:"",num:"",first_name:"",middle_name:"",last_name:"",email:"",tel:"",address:"",gender:"",dob:"",nationality:"",profile:""}}:this.$route.params.id?axios.get("/admin/users/"+this.$route.params.id).then((function(e){t.user=e.data.user,"edit"===t.$route.params.ops?t.form={title:"Edit User",type:"e",input:{id:t.user.id,num:t.user.num,first_name:t.user.first_name,middle_name:t.user.middle_name,last_name:t.user.last_name,email:t.user.email,tel:t.user.tel,address:t.user.address,gender:t.user.gender,dob:t.user.dob,nationality:t.user.nationality}}:"delete"===t.$route.params.ops&&(t.form={title:"Delete User.",type:"d",input:{id:t.user.id}});var a,s=C(t.user.profiles);try{for(s.s();!(a=s.n()).done;){var r=a.value;t.user.profile_id===r.id&&(t.user.profile=r)}}catch(t){s.e(t)}finally{s.f()}})):this.get_users()},profile_type:function(t){return this.$root.profile_type(t)},get_role:function(t){return window.roles[t]},submitForm:function(t){switch(t.preventDefault(),this.form.type){case"c":this.postRequest("/admin/users/store");break;case"d":this.form.input.id=this.user.id,this.postRequest("/admin/users/destroy");break;case"e":this.form.input.id=this.user.id,this.postRequest("/admin/users/edit")}},postRequest:function(t){var e=this;this.$refs.display_success_message.style.display="none",axios.post(t,this.form.input).then((function(t){e.users=t.data.users,e.user=null,null!=t.data.user&&e.$router.push({name:"ad.users",params:{id:t.data.user.id}}),e.$refs.display_success_message.style.display="block",e.form.message.success.push(t.data.success),e.form.message.errors=[]}))},resetInputs:function(){for(var t=0,e=Object.keys(this.form.input);t<e.length;t++){var a=e[t];this.form.input[a]=null}},filter_users:function(t){t.preventDefault(),this.get_users()},get_users:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;axios.post("/admin/users?page="+e,this.filter).then((function(e){t.users=e.data.users}))},get_user:function(t){var e=this;axios.get("/admin/users/"+t).then((function(t){e.user=t.data.user;var a,s=C(e.user.profiles);try{for(s.s();!(a=s.n()).done;){var r=a.value;e.user.profile_id===r.id&&(e.user.profile=r)}}catch(t){s.e(t)}finally{s.f()}}))}}},w=Object(r.a)(y,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row"},[t.users?a("IndexUsers"):t._e(),t._v(" "),t.user&&!t.form?a("ViewUsers"):t._e(),t._v(" "),t.form?a("FromUsers"):t._e()],1)}),[],!1,null,"9141a484",null);e.default=w.exports}}]);